<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="reset.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <title>Document</title>

</head>

<body>
    <header>
        <h1 class="midashi">フェブラリーステークス　東京　ダ１２００</h1>
    </header>
    <main>
        <!-- レース結果URL ボタン-->
        <div class="btn">
            <button class="btn1"
                onclick="location.href='https://www.jra.go.jp/JRADB/accessS.html?CNAME=pw01sde1005202301081120230219/53'">レース結果</button>
        </div>




        <!-- フォーム -->
        <div class="width">
            <form action="form-wrap">
                <dl class="form_inner">
                    <!-- 勝敗 -->
                    <dt class="form_title">結果</dt>
                    <dd class="form-item" class="radio">
                        <label for="win" class="pochi"><input type="radio" name="atari" id="win" value="win"
                                style="transform: scale(3.0);"> 的中</label>
                        <label for="lose" class="pochi"><input type="radio" name="atari" id="lose" value="lose"
                                style="transform: scale(3.0);"> ハズレ</label>

                    </dd>
                    <!-- 配当金入力 -->
                    <dt class="form_title">配当金</dt>
                    <dd class="form-item"><input type="text" name="haitokin" id="prize" class="form-parts"></dd>
                    <!-- 一口あたりの金額入力 -->
                    <dt class="form_title">１口購入金額</dt>
                    <dd class="form-item"><input type="text" name="hitokuchi" id="betmoney" class="form-parts"></dd>
                    <!-- 口数の入力 -->
                    <dt class="form_title">口数</dt>
                    <dd class="form-item"><input type="text" name="kuchisu" id="betnumber" class="form-parts"></dd>
                    <!-- トータル賭け金入力 -->
                    <dt class="form_title">合計金額</dt>
                    <dd class="form-item"><input type="text" name="gokei" id="toatlmoney" class="form-parts"></dd>
                    <!-- ゲットした金額 -->
                    <dt class="form_title">払い戻し金</dt>
                    <dd class="form-item"><input type="text" name="harai" id="getmoney" class="form-parts"></dd>
                    <!-- 収支金額 -->
                    <dt class="form_title">該当レース収支</dt>
                    <dd class="form-item"><input type="text" name="syushi" id="balance" class="form-parts"></dd>
                    <!-- 反省点入力 -->
                    <dt class="form_title">反省点</dt>
                    <dd class="form-item"><textarea name="hansei" id="lookback" cols="10" rows="5"
                            class="form-parts"></textarea></dd>

                </dl>


            </form>


        </div>
        <div class="btn">
            <button class="btn1" onclick="location.href='memo1.html'">帰 厩 する</button>
            <script>
                $(function () {
                    $('.pochi').on('click', function (event) {
                        // 既定の動作をキャンセル(今回はinputにcheckedが入るのをキャンセル)
                        event.preventDefault();

                        // チェック済みの場合はチェックを外し、未チェックの場合はチェックを入れる
                        let $input = $(this).find('input');
                        $input.prop('checked', !$input.prop('checked'));
                    });
                });


                


            </script>

        </div>
        <!-- １口金額×口数のForm内の計算 -->
        <script>
            const hitokuchi = document.querySelector("input[name=hitokuchi]");
            const kuchisu = document.querySelector("input[name=kuchisu]");
            const gokei = document.querySelector("input[name=gokei]");
            const calc = () => {
                gokei.value = Number(hitokuchi.value) * Number(kuchisu.value);
            }

            hitokuchi.addEventListener("keyup", calc, false);
            kuchisu.addEventListener("keyup", calc, false);

        </script>

        <script>
        //   // loseにチェックしたら配当金が０
        //   document.getElementById('lose').addEventListener('change', function () {
        //   var getmoney = document.getElementById('getmoney');
        //   if (this.checked) {
        //     getmoney.value = 0;

        //   }});

        //   document.getElementById('win').addEventListener('change', function () {
        //   var getmoney = document.getElementById('getmoney');
        //   if (this.checked) {
        //     getmoney.value = '';
        //     getmoney.readOnly = false;

        //   }});

          
          //winの時に払戻金に自動に金額が表示
          $(function () {
             $('input[name="atari"]').on('change', function () {
                    if ($(this).attr('id') === 'win') {
                    // 配当金と1口購入金額の値を取得
                    let haitokin = parseFloat($('#prize').val());
                    let hitokuchi = parseFloat($('#betmoney').val());

                    // 払い戻し金の計算と表示
                    let harai = haitokin * hitokuchi / 100;
                    $('#getmoney').val(harai);
                    } else {
                    // ハズレの場合は払い戻し金に0を表示
                    $('#getmoney').val('0');
                    }
                });
            });
   

        </script>










    </main>
</body>